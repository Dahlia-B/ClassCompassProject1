@inherits LayoutView
@namespace ClassCompassWeb.Components.Layout

<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <main>
        <div class="top-row px-4 auth">
            <div class="ms-auto d-flex align-items-center">
                <span class="badge bg-success me-2" id="connection-status">🔌 Connected</span>
                <span class="text-muted">Welcome to ClassCompass</span>
            </div>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

<div id="blazor-error-ui">
    Environment: <strong>@Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")</strong>
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

<script src="_framework/blazor.web.js"></script>
<script>
    // Socket connection status
    window.updateConnectionStatus = (isConnected) => {
        const statusElement = document.getElementById('connection-status');
        if (statusElement) {
            statusElement.textContent = isConnected ? '🔌 Connected' : '⚠️ Disconnected';
            statusElement.className = isConnected ? 'badge bg-success me-2' : 'badge bg-warning me-2';
        }
    };
</script>
